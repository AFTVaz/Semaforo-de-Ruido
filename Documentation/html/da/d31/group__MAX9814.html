<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>P15 - Semaforo de Ruido: MAX9814</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">P15 - Semaforo de Ruido<span id="projectnumber">&#160;Ver1.0</span>
   </div>
   <div id="projectbrief">Documentation for Embedded Systems Class</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('da/d31/group__MAX9814.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">MAX9814<div class="ingroups"><a class="el" href="../../d8/d21/group__DRIVERS.html">DRIVERS</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Provides the core capabilities for microphone MAX9814 related functions.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga447282e5a307ab474573090ad39e4e77" id="r_ga447282e5a307ab474573090ad39e4e77"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga447282e5a307ab474573090ad39e4e77">MAX9814_GainValueType</a> { <a class="el" href="#gga447282e5a307ab474573090ad39e4e77ab071206c0a600e2fb25862845a15ab9a">MAX9814_VCC_GAIN</a> = 40
, <a class="el" href="#gga447282e5a307ab474573090ad39e4e77af66fa9b7a3c3621805db08d86d6f7ae4">MAX9814_GND_GAIN</a> = 50
, <a class="el" href="#gga447282e5a307ab474573090ad39e4e77ac0d4227dcba510960c7aeed8074c6e22">MAX9814_FLOAT_GAIN</a> = 60
 }</td></tr>
<tr class="memdesc:ga447282e5a307ab474573090ad39e4e77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumeration for selecting the analog gain of the MAX9814 microphone module.  <a href="#ga447282e5a307ab474573090ad39e4e77">More...</a><br /></td></tr>
<tr class="separator:ga447282e5a307ab474573090ad39e4e77"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga83196f81e95ff529918765204515ed86" id="r_ga83196f81e95ff529918765204515ed86"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga83196f81e95ff529918765204515ed86">MAX9814_Init</a> (<a class="el" href="#ga447282e5a307ab474573090ad39e4e77">MAX9814_GainValueType</a> mic_gain)</td></tr>
<tr class="memdesc:ga83196f81e95ff529918765204515ed86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the MAX9814 microphone module.  <br /></td></tr>
<tr class="separator:ga83196f81e95ff529918765204515ed86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5fc1e85569038df8b8444fc575d475a6" id="r_ga5fc1e85569038df8b8444fc575d475a6"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga5fc1e85569038df8b8444fc575d475a6">MAX9814_Read</a> (void)</td></tr>
<tr class="memdesc:ga5fc1e85569038df8b8444fc575d475a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the current ambient sound level in decibels (dB SPL approximation).  <br /></td></tr>
<tr class="separator:ga5fc1e85569038df8b8444fc575d475a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaed74836fd745df7666cfae704d102c2" id="r_gaaed74836fd745df7666cfae704d102c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaaed74836fd745df7666cfae704d102c2">MAX9814_SetGain</a> (<a class="el" href="#ga447282e5a307ab474573090ad39e4e77">MAX9814_GainValueType</a> mic_gain)</td></tr>
<tr class="memdesc:gaaed74836fd745df7666cfae704d102c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the analog gain setting of the MAX9814 microphone module.  <br /></td></tr>
<tr class="separator:gaaed74836fd745df7666cfae704d102c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Provides the core capabilities for microphone MAX9814 related functions. </p>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga447282e5a307ab474573090ad39e4e77" name="ga447282e5a307ab474573090ad39e4e77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga447282e5a307ab474573090ad39e4e77">&#9670;&#160;</a></span>MAX9814_GainValueType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#ga447282e5a307ab474573090ad39e4e77">MAX9814_GainValueType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enumeration for selecting the analog gain of the MAX9814 microphone module. </p>
<pre class="fragment">   This enum defines the gain levels that can be applied to the MAX9814 by
   configuring its gain selection pin. Each level corresponds to a specific
   hardware wiring: VCC, GND, or floating input.
</pre> <table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga447282e5a307ab474573090ad39e4e77ab071206c0a600e2fb25862845a15ab9a" name="gga447282e5a307ab474573090ad39e4e77ab071206c0a600e2fb25862845a15ab9a"></a>MAX9814_VCC_GAIN&#160;</td><td class="fielddoc"><p>Gain = 40 dB (Gain pin connected to VCC) <br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="gga447282e5a307ab474573090ad39e4e77af66fa9b7a3c3621805db08d86d6f7ae4" name="gga447282e5a307ab474573090ad39e4e77af66fa9b7a3c3621805db08d86d6f7ae4"></a>MAX9814_GND_GAIN&#160;</td><td class="fielddoc"><p>Gain = 50 dB (Gain pin connected to GND) <br  />
 </p>
</td></tr>
<tr><td class="fieldname"><a id="gga447282e5a307ab474573090ad39e4e77ac0d4227dcba510960c7aeed8074c6e22" name="gga447282e5a307ab474573090ad39e4e77ac0d4227dcba510960c7aeed8074c6e22"></a>MAX9814_FLOAT_GAIN&#160;</td><td class="fielddoc"><p>Gain = 60 dB (Gain pin left floating/open) <br  />
 </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d3/d0c/max9814_8h_source.html#l00037">37</a> of file <a class="el" href="../../d3/d0c/max9814_8h_source.html">max9814.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga83196f81e95ff529918765204515ed86" name="ga83196f81e95ff529918765204515ed86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga83196f81e95ff529918765204515ed86">&#9670;&#160;</a></span>MAX9814_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MAX9814_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga447282e5a307ab474573090ad39e4e77">MAX9814_GainValueType</a></td>          <td class="paramname"><span class="paramname"><em>mic_gain</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the MAX9814 microphone module. </p>
<pre class="fragment">   This function sets up the ADC input channel, configures the gain selection pin,
   and performs offset calibration for the ADC to ensure accurate signal centering.
   It must be called before any sound level measurements are taken.
</pre><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mic_gain</td><td>Initial gain level for the MAX9814 microphone. Acceptable values:<ul>
<li>MAX9814_VCC_GAIN (40 dB)</li>
<li>MAX9814_GND_GAIN (50 dB)</li>
<li>MAX9814_FLOAT_GAIN (60 dB)</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Requires that ADC and GPIO configuration functions are properly implemented. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/de5/max9814_8c_source.html#l00079">79</a> of file <a class="el" href="../../dc/de5/max9814_8c_source.html">max9814.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d01/adc_8c_source.html#l00018">ADC_Init()</a>, <a class="el" href="../../dc/de5/max9814_8c_source.html#l00095">MAX9814_SetGain()</a>, and <a class="el" href="../../d0/d69/pinconfig_8c_source.html#l00016">PINCFG_Function()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d7e/microphone_8c_source.html#l00021">MICROPHONE_Init()</a>.</p>

</div>
</div>
<a id="ga5fc1e85569038df8b8444fc575d475a6" name="ga5fc1e85569038df8b8444fc575d475a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5fc1e85569038df8b8444fc575d475a6">&#9670;&#160;</a></span>MAX9814_Read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float MAX9814_Read </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the current ambient sound level in decibels (dB SPL approximation). </p>
<pre class="fragment">   This function captures multiple ADC samples, calculates the RMS (Root Mean Square)
   value of the signal, and converts it to decibels. The calculation also includes
   internal compensation for the configured analog gain.

   It also performs automatic gain control (AGC) by adjusting the hardware gain
   based on configurable dB thresholds with hysteresis.
</pre><dl class="section return"><dt>Returns</dt><dd>Sound pressure level in decibels (dB SPL approximation). </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-INFINITY</td><td>If the signal level is too low to compute a valid dB value. </td></tr>
    <tr><td class="paramname">&gt;0</td><td>Valid sound level in dB. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/de5/max9814_8c_source.html#l00086">86</a> of file <a class="el" href="../../dc/de5/max9814_8c_source.html">max9814.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d01/adc_8c_source.html#l00062">ADC_Read()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d7e/microphone_8c_source.html#l00030">MICROPHONE_Read()</a>.</p>

</div>
</div>
<a id="gaaed74836fd745df7666cfae704d102c2" name="gaaed74836fd745df7666cfae704d102c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaed74836fd745df7666cfae704d102c2">&#9670;&#160;</a></span>MAX9814_SetGain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MAX9814_SetGain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga447282e5a307ab474573090ad39e4e77">MAX9814_GainValueType</a></td>          <td class="paramname"><span class="paramname"><em>mic_gain</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the analog gain setting of the MAX9814 microphone module. </p>
<pre class="fragment">  This function sets the appropriate logic level on the GAIN pin to configure
  the microphone's analog gain (40 dB, 50 dB, or 60 dB). It also updates the
  internal compensation factor for dB conversion and recalculates the reference
  output voltage based on the selected gain.
</pre><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mic_gain</td><td>New gain level to apply. Options:<ul>
<li>MAX9814_VCC_GAIN (40 dB)</li>
<li>MAX9814_GND_GAIN (50 dB)</li>
<li>MAX9814_FLOAT_GAIN (60 dB) </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../dc/de5/max9814_8c_source.html#l00095">95</a> of file <a class="el" href="../../dc/de5/max9814_8c_source.html">max9814.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d0c/max9814_8h_source.html#l00040">MAX9814_FLOAT_GAIN</a>, <a class="el" href="../../d3/d0c/max9814_8h_source.html#l00039">MAX9814_GND_GAIN</a>, <a class="el" href="../../d3/d0c/max9814_8h_source.html#l00038">MAX9814_VCC_GAIN</a>, <a class="el" href="../../d1/df7/pin_8c_source.html#l00044">PIN_Clear()</a>, <a class="el" href="../../d1/df7/pin_8c_source.html#l00021">PIN_Direction()</a>, and <a class="el" href="../../d1/df7/pin_8c_source.html#l00035">PIN_Set()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dc/de5/max9814_8c_source.html#l00079">MAX9814_Init()</a>, and <a class="el" href="../../d9/d7e/microphone_8c_source.html#l00043">MICROPHONE_SetGain()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
